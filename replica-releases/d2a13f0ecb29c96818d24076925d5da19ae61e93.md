Release Notes for [release-2025-12-04_03-28-base](https://github.com/dfinity/ic/tree/release-2025-12-04_03-28-base) (`d2a13f0ecb29c96818d24076925d5da19ae61e93`)
This release is based on changes since [release-2025-11-28_03-22-base](https://dashboard.internetcomputer.org/release/724ae4101bfdd8d4443126a6a8b1ec5ca9b68a12) (`724ae4101bfdd8d4443126a6a8b1ec5ca9b68a12`).

Please note that some commits may be excluded from this release if they're not relevant, or not modifying the GuestOS image.
Additionally, descriptions of some changes might have been slightly modified to fit the release notes format.

To see a full list of commits added since last release, compare the revisions on [GitHub](https://github.com/dfinity/ic/compare/release-2025-11-28_03-22-base...release-2025-12-04_03-28-base).
## Features:
* [`1e47fe611`](https://github.com/dfinity/ic/commit/1e47fe611) Consensus: Insert stripped IDKG dealings into `BlockProposalAssembler` ([#7794](https://github.com/dfinity/ic/pull/7794))
* [`de1ac3801`](https://github.com/dfinity/ic/commit/de1ac3801) Consensus: Generalize ingress downloader to also download stripped IDKG dealings ([#7732](https://github.com/dfinity/ic/pull/7732))
* [`d89af621c`](https://github.com/dfinity/ic/commit/d89af621c) DSM(execution_environment): Allow msg_reject_code in call_on_cleanup ([#6915](https://github.com/dfinity/ic/pull/6915))
* [`11ee162e3`](https://github.com/dfinity/ic/commit/11ee162e3) DSM: take canister snapshot and uninstall code ([#7898](https://github.com/dfinity/ic/pull/7898))
* [`84e1d7689`](https://github.com/dfinity/ic/commit/84e1d7689) DSM(canister_logging): add log_memory_store implementation, no-op ([#7842](https://github.com/dfinity/ic/pull/7842))
## Bugfixes:
* [`a690f571f`](https://github.com/dfinity/ic/commit/a690f571f) Consensus(btc-adapter): increase on-disk header cache DB size limit ([#7901](https://github.com/dfinity/ic/pull/7901))
* [`3be1e4225`](https://github.com/dfinity/ic/commit/3be1e4225) Consensus,Node(node): Prevent generate-ic-config from restarting when ic-replica restarts ([#7910](https://github.com/dfinity/ic/pull/7910))
* [`82e0282ba`](https://github.com/dfinity/ic/commit/82e0282ba) DSM: replay attacks after canister migration ([#7787](https://github.com/dfinity/ic/pull/7787))
* [`c9a63164c`](https://github.com/dfinity/ic/commit/c9a63164c) DSM: bundle state manager and state dir together in StateMachine tests ([#7845](https://github.com/dfinity/ic/pull/7845))
* [`86c4ed2de`](https://github.com/dfinity/ic/commit/86c4ed2de) DSM: Fix checkpointing after snapshot upload ([#7857](https://github.com/dfinity/ic/pull/7857))
## Performance improvements:
* [`785c587ed`](https://github.com/dfinity/ic/commit/785c587ed) Consensus(crypto): Add affine Pippenger's implementation for BLS12-381 ([#7911](https://github.com/dfinity/ic/pull/7911))
* [`da042ad6f`](https://github.com/dfinity/ic/commit/da042ad6f) Consensus(crypto): Use multiscalar multiplication during NIDKG transcript creation ([#7913](https://github.com/dfinity/ic/pull/7913))
* [`c677e04d2`](https://github.com/dfinity/ic/commit/c677e04d2) Consensus(crypto): adapt VetKdArgs to only hold references ([#7356](https://github.com/dfinity/ic/pull/7356))
* [`f5671dfba`](https://github.com/dfinity/ic/commit/f5671dfba) DSM(canister_logging): cache RingBuffer header to avoid repeated PageMap reads ([#7909](https://github.com/dfinity/ic/pull/7909))
## Chores:
* [`dc7e11822`](https://github.com/dfinity/ic/commit/dc7e11822) Consensus: migrate rules_rust to MODULE.bazel ([#7872](https://github.com/dfinity/ic/pull/7872))
* [`3d09396c4`](https://github.com/dfinity/ic/commit/3d09396c4) Node: Remove async from mount traits and impls ([#7802](https://github.com/dfinity/ic/pull/7802))
* [`723ab36d8`](https://github.com/dfinity/ic/commit/723ab36d8) Node: remove nns_public_key backwards compatibility ([#7915](https://github.com/dfinity/ic/pull/7915))
* [`275503a4d`](https://github.com/dfinity/ic/commit/275503a4d) Node: Remove async from partition tools ([#7840](https://github.com/dfinity/ic/pull/7840))
* [`b085793c1`](https://github.com/dfinity/ic/commit/b085793c1) Node: Misc fixes and cleanup around SetupOS ([#7739](https://github.com/dfinity/ic/pull/7739))
* [`e1307ca58`](https://github.com/dfinity/ic/commit/e1307ca58) DSM: compile dirty_pages_from_write only in tests ([#7908](https://github.com/dfinity/ic/pull/7908))
* [`ea0e8cb27`](https://github.com/dfinity/ic/commit/ea0e8cb27) DSM: Increase code section size limit ([#7900](https://github.com/dfinity/ic/pull/7900))
* [`9419c8806`](https://github.com/dfinity/ic/commit/9419c8806) DSM: Cleanups related to subnet splitting ([#7877](https://github.com/dfinity/ic/pull/7877))
## Refactoring:
* [`f66f0b61e`](https://github.com/dfinity/ic/commit/f66f0b61e) DSM: drop AddCanisterChangeToHistory enum ([#7860](https://github.com/dfinity/ic/pull/7860))
## Tests:
* [`ba26afe8a`](https://github.com/dfinity/ic/commit/ba26afe8a) Consensus(orchestrator): compare latest computed root hash pre-upgrade with CUP state hash post-upgrade ([#7525](https://github.com/dfinity/ic/pull/7525))
* [`74df6eff3`](https://github.com/dfinity/ic/commit/74df6eff3) Consensus(crypto): Add a test for generating and verifying Webauthn signatures to validator tests ([#7806](https://github.com/dfinity/ic/pull/7806))
## Documentation:

## Excluded Changes

### Changed files are excluded by file path filter
* [`a23bb5a4a`](https://github.com/dfinity/ic/commit/a23bb5a4a) Consensus,Node: limit method name length ([#7104](https://github.com/dfinity/ic/pull/7104))
* [`fe3274456`](https://github.com/dfinity/ic/commit/fe3274456) Node: `ic-boundary`: fix ACME-ALPN ([#7928](https://github.com/dfinity/ic/pull/7928))
* [`97ad91678`](https://github.com/dfinity/ic/commit/97ad91678) DSM: new fields for uninstalling code while taking canister snapshot ([#7855](https://github.com/dfinity/ic/pull/7855))

### Not modifying GuestOS
* [`a90ae253a`](https://github.com/dfinity/ic/commit/a90ae253a) DRE(node-rewards-canister): Use bounded calls when calling management canister ([#7883](https://github.com/dfinity/ic/pull/7883))
* [`1be43125d`](https://github.com/dfinity/ic/commit/1be43125d) DRE(node-rewards-canister): Use async task for NRC hourly sync ([#7865](https://github.com/dfinity/ic/pull/7865))
* [`3bd6f0e0c`](https://github.com/dfinity/ic/commit/3bd6f0e0c) Governance(Registry): Remove completed Swiss subnet NO migration ([#7893](https://github.com/dfinity/ic/pull/7893))
* [`ff3859a87`](https://github.com/dfinity/ic/commit/ff3859a87) Governance(nns): Implement ValidExecuteNnsFunction::to_self_describing_action ([#7809](https://github.com/dfinity/ic/pull/7809))
* [`6d2680dad`](https://github.com/dfinity/ic/commit/6d2680dad) Governance: adding the new payload for approving add node payload ([#7844](https://github.com/dfinity/ic/pull/7844))
* [`f8b9e99fc`](https://github.com/dfinity/ic/commit/f8b9e99fc) Governance(nns): Conversion from candid to self-describing ([#7808](https://github.com/dfinity/ic/pull/7808))
* [`940d15125`](https://github.com/dfinity/ic/commit/940d15125) Governance: New tool signed-canister-reply. ([#7799](https://github.com/dfinity/ic/pull/7799))
* [`0d1276cf1`](https://github.com/dfinity/ic/commit/0d1276cf1) IDX: add DMZ as a HostFeature option ([#7895](https://github.com/dfinity/ic/pull/7895))
* [`7de020954`](https://github.com/dfinity/ic/commit/7de020954) DSM(PocketIC): override mainnet routing table when starting PocketIC server ([#7829](https://github.com/dfinity/ic/pull/7829))
* [`0c94d1d18`](https://github.com/dfinity/ic/commit/0c94d1d18) Consensus(btc-adapter): fix flaky test by increasing number of retries ([#7892](https://github.com/dfinity/ic/pull/7892))
* [`9370b9244`](https://github.com/dfinity/ic/commit/9370b9244) Governance: Typo in an error message about obsolete type SetDefaultFollowees. ([#7905](https://github.com/dfinity/ic/pull/7905))
* [`d38e45f16`](https://github.com/dfinity/ic/commit/d38e45f16) DSM: miscellaneous fixes of canister migration ([#7760](https://github.com/dfinity/ic/pull/7760))
* [`145b5c6ba`](https://github.com/dfinity/ic/commit/145b5c6ba) DSM(PocketIC): OpId for canister snapshot download/upload ([#7852](https://github.com/dfinity/ic/pull/7852))
* [`bc357afaa`](https://github.com/dfinity/ic/commit/bc357afaa) Defi team(ckbtc): Reduce the number of instructions to build an unsigned transaction by a factor 5x to 600x ([#7866](https://github.com/dfinity/ic/pull/7866))
* [`2c177cd03`](https://github.com/dfinity/ic/commit/2c177cd03) Defi team(ckbtc): canbench `build_unsigned_transaction_from_inputs` ([#7782](https://github.com/dfinity/ic/pull/7782))
* [`e9a30f9e3`](https://github.com/dfinity/ic/commit/e9a30f9e3) Defi team: remove the `local` tag from ic_icrc_rosetta_image ([#7921](https://github.com/dfinity/ic/pull/7921))
* [`1de0683d9`](https://github.com/dfinity/ic/commit/1de0683d9) Defi team: rm empty rs/tests/src/rosetta_tests/tests.rs ([#7858](https://github.com/dfinity/ic/pull/7858))
* [`1d39ffd2a`](https://github.com/dfinity/ic/commit/1d39ffd2a) Governance(nervous-system): Add back rs/nervous_system/instruction_stats_update_attribute with upgraded syn ([#7823](https://github.com/dfinity/ic/pull/7823))
* [`da0d9f4df`](https://github.com/dfinity/ic/commit/da0d9f4df) Owners: Update Mainnet IC revisions canisters file ([#7884](https://github.com/dfinity/ic/pull/7884))
* [`87ff6b336`](https://github.com/dfinity/ic/commit/87ff6b336) Owners: Update Mainnet IC revisions canisters file ([#7881](https://github.com/dfinity/ic/pull/7881))
* [`dc6e2ad2c`](https://github.com/dfinity/ic/commit/dc6e2ad2c) Owners: Update Mainnet IC revisions canisters file ([#7878](https://github.com/dfinity/ic/pull/7878))
* [`8d08a558f`](https://github.com/dfinity/ic/commit/8d08a558f) Owners: Update Mainnet ICOS revisions file ([#7870](https://github.com/dfinity/ic/pull/7870))
* [`82587a875`](https://github.com/dfinity/ic/commit/82587a875) Owners: Update Mainnet IC revisions canisters file ([#7871](https://github.com/dfinity/ic/pull/7871))
* [`7450361ae`](https://github.com/dfinity/ic/commit/7450361ae) Owners: remove deleted rs/tests/src paths from CODEOWNERS ([#7863](https://github.com/dfinity/ic/pull/7863))
* [`49fdd322d`](https://github.com/dfinity/ic/commit/49fdd322d) Owners: Update Mainnet ICOS revisions file ([#7864](https://github.com/dfinity/ic/pull/7864))
* [`0395b5e46`](https://github.com/dfinity/ic/commit/0395b5e46) IDX: add checkbox to workflow kickoff ([#7907](https://github.com/dfinity/ic/pull/7907))
* [`a21d89021`](https://github.com/dfinity/ic/commit/a21d89021) IDX: split hermetic_cc_toolchain patches ([#7899](https://github.com/dfinity/ic/pull/7899))
* [`3147aac1c`](https://github.com/dfinity/ic/commit/3147aac1c) IDX: log when retrieving ipv4 times out ([#7853](https://github.com/dfinity/ic/pull/7853))
* [`00d5a4c4e`](https://github.com/dfinity/ic/commit/00d5a4c4e) Node: remove unnecessary host grub menu and timeout ([#7888](https://github.com/dfinity/ic/pull/7888))
* [`de54f9974`](https://github.com/dfinity/ic/commit/de54f9974) Node: disable IPv4 for IcGatewayVm in tests ([#7854](https://github.com/dfinity/ic/pull/7854))
* [`c9a3f1ddb`](https://github.com/dfinity/ic/commit/c9a3f1ddb) Node: proposals for salt sharing and rate limiting canister upgrades ([#7850](https://github.com/dfinity/ic/pull/7850))
* [`e1f1906e1`](https://github.com/dfinity/ic/commit/e1f1906e1) DSM(migration-canister): return only a single migration status ([#7890](https://github.com/dfinity/ic/pull/7890))
* [`b328ba438`](https://github.com/dfinity/ic/commit/b328ba438) DSM(migration-canister): drop unimplemented method list_events ([#7879](https://github.com/dfinity/ic/pull/7879))
* [`459839ff3`](https://github.com/dfinity/ic/commit/459839ff3) Governance: Use "explode" syntax to make sure ALL proto paths are returned. ([#7906](https://github.com/dfinity/ic/pull/7906))
* [`1d6e591ea`](https://github.com/dfinity/ic/commit/1d6e591ea) IDX: reorder checkout step ([#7875](https://github.com/dfinity/ic/pull/7875))
* [`ac7c29503`](https://github.com/dfinity/ic/commit/ac7c29503) Consensus: Pre-signature stash management system test ([#6616](https://github.com/dfinity/ic/pull/6616))
* [`cb8544e09`](https://github.com/dfinity/ic/commit/cb8544e09) Consensus(crypto): Add Webauthn authentication to ingress verification system test ([#7886](https://github.com/dfinity/ic/pull/7886))
* [`64d8fb132`](https://github.com/dfinity/ic/commit/64d8fb132) Consensus: Node registration with max rewardable nodes ([#7831](https://github.com/dfinity/ic/pull/7831))
* [`e5e0d13c0`](https://github.com/dfinity/ic/commit/e5e0d13c0) Defi team(ICRC_Index): index-ng u256 token testing ([#7788](https://github.com/dfinity/ic/pull/7788))
* [`a33b0634d`](https://github.com/dfinity/ic/commit/a33b0634d) Defi team(Rosetta): Add local cluster deployment flag for external port forwarding ([#7793](https://github.com/dfinity/ic/pull/7793))
* [`d2a13f0ec`](https://github.com/dfinity/ic/commit/d2a13f0ec) Governance: Cache compiled canisters ([#7876](https://github.com/dfinity/ic/pull/7876))
* [`c9258abb2`](https://github.com/dfinity/ic/commit/c9258abb2) DSM: use stable memory as the large state for rejoin test ([#7810](https://github.com/dfinity/ic/pull/7810))
* [`966f915e1`](https://github.com/dfinity/ic/commit/966f915e1) Governance(nns): Add documentation for the 2 new fields in KnownNeuronData ([#7885](https://github.com/dfinity/ic/pull/7885))
* [`e060df6f8`](https://github.com/dfinity/ic/commit/e060df6f8) Governance: Update backend changelogs for 2025-11-28. ([#7880](https://github.com/dfinity/ic/pull/7880))

### The change is not owned by any replica or HostOS team
* [`4bd9796ba`](https://github.com/dfinity/ic/commit/4bd9796ba) Governance(registry): allow omitting pre_signatures_to_create_in_advance for keys that don't require it ([#7859](https://github.com/dfinity/ic/pull/7859))
* [`980f1d8ce`](https://github.com/dfinity/ic/commit/980f1d8ce) IDX: bump hermetic_cc_toolchain ([#7902](https://github.com/dfinity/ic/pull/7902))
* [`8cc0b0376`](https://github.com/dfinity/ic/commit/8cc0b0376) IDX: bump wasmtime to v39.0.1 ([#7867](https://github.com/dfinity/ic/pull/7867))
